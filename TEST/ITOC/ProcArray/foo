[1;32m[5] checkIn()
[0m
[1;32m[7] proc foo(int vec[],k)
[0m
[1;32m[25] Z = Vgen(3,10,0,1)
[0m
[1;32m[27] <<"init $Z\n"
[0m
[1;32m[29] Z[0] = 36
[0m
[1;32m[30] Z[1] = 53
[0m
[1;32m[31] Z[6] = 28
[0m
[1;32m[33] <<"before calling proc $Z\n"
[0m
[1;32m[35] Y=foo(Z,3)  // TBD FIX -- default array name is ref call
[0m
[1;32m[9] f
[0m
[1;32m[10] <<"$_proc IN $vec \n"
[0m
[1;32m[11] <<"pa_arg2 %V$k\n"
[0m
[1;32m[13] vec[1] = 47
[0m
[1;32m[14] vec[2] = 79
[0m
[1;32m[15] vec[3] = 80
[0m
[1;32m[16] vec[4] = 78
[0m
[1;32m[17] vec[5] = 50
[0m
[1;32m[19] <<"OUT $vec \n"
[0m
[1;32m[21] return vec
[0m
[1;32m[37] <<"after calling proc $Z\n"
[0m
[1;32m[41] if
[0m
[1;32m[41] i
[0m
[1;32m[42] <<"Z[1] and Z[6] correct \n"
[0m
[1;32m[43] }
[0m
[1;32m[45]  }
[0m
[1;32m[45] i
[0m
[1;32m[46] <<"Z[1] correct \n"
[0m
[1;32m[47] }
[0m
[1;32m[53]                 }
[0m
[1;32m[55] checkNum(Z[6],28)
[0m
[1;32m[57] <<"Array Name return vec $Y\n"
[0m
[1;32m[59] checkStage("ArrayName")
[0m
[1;32m[66] Z = Vgen(3,10,0,1)
[0m
[1;32m[68] Z[0] = 36
[0m
[1;32m[69] Z[8] = 28
[0m
[1;32m[74] <<"before calling proc\n"
[0m
[1;32m[76] <<"$Z\n"
[0m
[1;32m[79] Y = foo(Z,3)  // FIXED -------- Y is now created correctly with the return vector 
[0m
[1;32m[9] f
[0m
[1;32m[10] <<"$_proc IN $vec \n"
[0m
[1;32m[11] <<"pa_arg2 %V$k\n"
[0m
[1;32m[13] vec[1] = 47
[0m
[1;32m[14] vec[2] = 79
[0m
[1;32m[15] vec[3] = 80
[0m
[1;32m[16] vec[4] = 78
[0m
[1;32m[17] vec[5] = 50
[0m
[1;32m[19] <<"OUT $vec \n"
[0m
[1;32m[21] return vec
[0m
[1;32m[82] <<"after calling proc $Z\n"
[0m
[1;32m[85] checkNum(Z[1],47)
[0m
[1;32m[87] checkNum(Z[8],28)
[0m
[1;32m[89] checkStage("&Array")
[0m
[1;32m[92] Z = Vgen(3,10,0,1)
[0m
[1;32m[94] Z[0] = 36
[0m
[1;32m[95] Z[8] = 28
[0m
[1;32m[97] <<"before calling proc $Z\n"
[0m
[1;32m[101] Y= foo(&Z[2],4)  
[0m
[1;32m[9] f
[0m
[1;32m[10] <<"$_proc IN $vec \n"
[0m
[1;32m[11] <<"pa_arg2 %V$k\n"
[0m
[1;32m[13] vec[1] = 47
[0m
[1;32m[14] vec[2] = 79
[0m
[1;32m[15] vec[3] = 80
[0m
[1;32m[16] vec[4] = 78
[0m
[1;32m[17] vec[5] = 50
[0m
[1;32m[19] <<"OUT $vec \n"
[0m
[1;32m[21] return vec
[0m
[1;32m[103] <<"after proc $Z\n"
[0m
[1;32m[105] if
[0m
[1;32m[105] i
[0m
[1;32m[106] <<"Z[3] and Z[8] correct \n"
[0m
[1;32m[107] }
[0m
[1;32m[109]  }
[0m
[1;32m[109] i
[0m
[1;32m[110] <<"Z correct \n"
[0m
[1;32m[111] }
[0m
[1;32m[117]                 }
[0m
[1;32m[118] checkNum(Z[8],28)
[0m
[1;32m[120] checkStage("&Array[2]")
[0m
[1;32m[123] <<"return Y vec $Y\n"
[0m
[1;32m[127] checkNum(Y[1],47)
[0m
[1;32m[128] checkNum(Y[6],28)
[0m
[1;32m[130] checkStage("ArrayReturn")
[0m
[1;32m[133] checkOut()
[0m
[1;32m[134] stop!
[0m
